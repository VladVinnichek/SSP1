@model IEnumerable<_11_12lab.Models.Car>

@{
    ViewBag.Title = "Список автомобилей";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Список автомобилей</h2>

<p>
    @Html.ActionLink("Добавить новый автомобиль", "Create", null, new { @class = "btn btn-success" })
</p>

<table class="table table-striped table-hover">
    <tr>
        <th>@Html.DisplayNameFor(model => model.Number)</th>
        <th>@Html.DisplayNameFor(model => model.Year)</th>
        <th>@Html.DisplayNameFor(model => model.Brand)</th>
        <th>@Html.DisplayNameFor(model => model.Color)</th>
        <th>@Html.DisplayNameFor(model => model.Condition)</th>
        <th>@Html.DisplayNameFor(model => model.OwnerName)</th>
        <th>@Html.DisplayNameFor(model => model.Address)</th>
        <th>Действия</th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>@Html.DisplayFor(modelItem => item.Number)</td>
            <td>@Html.DisplayFor(modelItem => item.Year)</td>
            <td>@Html.DisplayFor(modelItem => item.Brand)</td>
            <td>@Html.DisplayFor(modelItem => item.Color)</td>
            <td>
                <span class="label
                @(item.Condition == "Отличное" ? "label-success" :
                  item.Condition == "Хорошее" ? "label-primary" :
                  item.Condition == "Удовлетворительное" ? "label-warning" : "label-default")">
                    @Html.DisplayFor(modelItem => item.Condition)
                </span>
            </td>
            <td>@Html.DisplayFor(modelItem => item.OwnerName)</td>
            <td>
                <div style="max-width: 200px;">
                    @Html.DisplayFor(modelItem => item.Address)
                    <br />
                    <small>
                        @Html.ActionLink("🗺️ Посмотреть на карте", "ViewAddress", "Maps",
                        new { address = item.Address },
                        new { @class = "btn btn-xs btn-info", style = "margin-top: 5px;", target = "_blank" })
                    </small>
                </div>
            </td>
            <td>
                <div class="btn-group-vertical">
                    @Html.ActionLink("✏️", "Edit", new { id = item.Id }, new { @class = "btn btn-xs btn-warning", title = "Редактировать" })
                    @Html.ActionLink("👁️", "Details", new { id = item.Id }, new { @class = "btn btn-xs btn-primary", title = "Подробности" })
                    @Html.ActionLink("🗑️", "Delete", new { id = item.Id }, new { @class = "btn btn-xs btn-danger", title = "Удалить" })
                </div>
            </td>
        </tr>
    }
</table>

<style>
    .table th {
        background-color: #f5f5f5;
    }

    .btn-group-vertical .btn {
        margin-bottom: 2px;
        width: 40px;
    }
</style>